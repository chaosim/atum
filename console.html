<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Atum Console</title>
    
    <link type="text/css" rel="stylesheet" href="resources/jquery-ui-1.10.3/css/ui-lightness/jquery-ui-1.10.3.custom.css" />
    <link type="text/css" rel="stylesheet" href="resources/layout-default-latest.css" />
    <link type="text/css" rel="stylesheet" href="resources/codemirror-3.14/codemirror.css" />
    
    <style>
        @import url(https://fonts.googleapis.com/css?family=Lato:300italic,700italic,300,700);
    
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        body {
            font:14px/1.5 Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
        }
        
        #page-header {
            
        }
        
        #page-title {
            margin: 0 0.25em;
            padding: 0;
            font-size: 1.6em;
            float: left;
        }
        
        #container {
            min-height: 300px;
            min-width:  600px;
            height: 100%;
            width: 100%;
        }
        
        .pane {
            padding: 0;
            margin: 0;
            width: auto;
        }
        
        .pane-header {
            border-bottom: 1px solid gray;
        }
        
        .pane-title {
            margin: 0;
            font-weight: normal;
            font-size: 1.2em;
            color: black;
            padding: 0 0.25em;
        }

        .ui-layout-resizer {
            border: 0;
        }
        
        #input {
            border-bottom: 1px solid lightgray;
        }
        .console .workspace {
            width: auto;
            border-bottom: 1px solid gray;
        }
        
        .console .workspace .controls > *,
        .console .workspace .debug-controls > * {
            display: block;
            padding: 0 1em;
            font-size: 0.90em;
        }
        
        .console .workspace .controls {
            float: right;
        }
        
        .console .workspace .controls > * {
            float: right;
            border-left: 1px solid gray;
        }
        
        .console .workspace .debug-controls {
            float: left;
        }
        .console .workspace .debug-controls > * {
            float: left;
            border-right: 1px solid gray;
        }
        
        .ui-widget {
            font:14px/1.5 Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
        }
        
        .ui-corner-all {
            border-radius: 0;
        }
        
        .ui-button {
            color: black;
            border: 0;
            background: transparent;
            margin: 0;
            border: 0;
        }
        
        .ui-button.ui-state-hover .ui-icon {
            opacity: 0.50;
        }
        
        .ui-button-text-only .ui-button-text {
            padding: 0.1em 0.25em;
        }
        
        .ui-state-default .ui-icon {
            background-image: url(resources/jquery-ui-1.10.3/css/ui-lightness/images/ui-icons_222222_256x240.png);
        }
        
        button {

        }
        
        .ParseError {
            color: red;
        }
        
        #text_out {
            padding: 0;
            margin: 0;
        }
        
        .environments {
            margin: 0;
            padding: 0;
        }
        
        .environment {
            list-style: none;
            border-bottom: 1px solid gray;
        }
        
        
        /* From http://nicolasgallagher.com/micro-clearfix-hack/ */
        .cf:before,
        .cf:after {
            content: " ";
            display: table;
        }
        
        .cf:after {
            clear: both;
        }
    </style>
</head>

<body lang="en">
    <script type="text/html" id="environments-template">
        <li>
            <ul class='binding-list' data-bind="foreach: bindings">
                <li>
                    <span data-bind="text: name"></span>
                    <span data-bind="text: value"></span>
                </li>
            </ul>
        </li>
    </script>

    <header id='page-header' class='cf'>
        <h1 id='page-title'>Atum</h1>
    </header>
    
    <div id='container' class="content">
        <div class='console pane ui-layout-center'>
            <div class='workspace cf'>
                <div id='input'></div>
                <div class='controls cf'>
                    <button id='eval-button' title='Eval'>eval</button>
                    <button id='debug-button' title='Debug'>debug</button>
                </div>
                <div class='debug-controls cf disabled'>
                    <button id='stop-button' title='stop'><span class="ui-icon ui-icon-stop"></span></button>
                    <button id='run-button' title='run'><span class="ui-icon ui-icon-play"></span></button>
                    <button id='step-button' title='step over'><span class="ui-icon ui-icon-arrowstop-1-e"></span></button>
                    <button id='step-into-button' title='step into'><span class="ui-icon ui-icon-arrowstop-1-s"></span></button>
                    <button id='step-out-button' title='step out'><span class="ui-icon ui-icon-arrowstop-1-n"></span></button>
                </div>
            </div>
            <div class='output'>
                <h2>Output</h2>
                <span class="ParseError"></span>
                <p>
                    <span id='parse_out'></span>
                </p>
                <pre id='text_out'></pre>
            </div>
        </div>
        
        <div class='debug pane ui-layout-east'>
            <div class='pane-header'>
                <h2 class='pane-title'>State</h2>
            </div>
            <div>
                <ul class='environments' data-bind="template: { name: 'environments-template', foreach: environments }"></ul>
            </div>
        </div>
        
        <div class='callstack pane ui-layout-west'>
            <div class='pane-header'>
                <h2 class='pane-title'>Callstack</h2>
            </div>
            <p>TODO</p>
        </div>
        
    </div>
    
    
    <script type="application/javascript" src="resources/require.js"></script>
    
    <script type="application/javascript">
        requirejs.config({
            paths: {
                'atum': 'lib',
                'amulet': 'dependencies/amulet/lib',
                'parse': 'dependencies/parse/lib',
                'nu': 'dependencies/nu/lib',
                'ecma': 'dependencies/parse-ecma/lib',
                'knockout-2.2.1': 'resources/knockout-2.2.1'
            }
        });
    </script>
    
    <script type="application/javascript" src="resources/jquery-ui-1.10.3/js/jquery-1.9.1.js"></script>
    <script type="application/javascript" src="resources/jquery-ui-1.10.3/js/jquery-ui-1.10.3.custom.js"></script>
    <script type="application/javascript" src="resources/jquery.layout-latest.js"></script>
    
    <script type="application/javascript" src="resources/codemirror-3.14/codemirror.js"></script>
    <script type="application/javascript" src="resources/codemirror-3.14/javascript.js"></script>
    
    
    <script type="application/javascript" src="console.js"></script>
</body>
    
</html>